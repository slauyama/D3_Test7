(function(){"use strict";var e,t,n,o,i,a,r,u,s,d,l,c,p,h,m,g,w,f,x,B,b,v,M;e=9007199254740992,Math.roundTo=function(e,t){return null==t&&(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},console.logDate=function(){var e;return arguments.length?(e="["+(new Date).toUTCString()+"] ",console.log(e,arguments)):void 0},l=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t=function(e,t,n,o,i,a,r,u,s,d,l,c,p,h,m,g,w,f,x,B,b,v,M,y,T,P,N){var L;return L={},L.componentID=e,L.name=t,L.rackUnitHeight=44.5*n/1e3,L.width=o,L.depth=i,L.rackOrientation=a,L.xPosition=(r-P/2)/1e3,L.yPosition=(u-N/2)/1e3,L.numberingOrigin=s,L.overlappingAllowed=d,L.coolingMax=l,L.weightMax=c,L.powerMax=p,L.largestUnitLocation=h,L.largestUnitSize=m,L.usedUnitsCurrent=g,L.usedUnitsPlanned=w,L.weightCurrent=f,L.weightPlanned=x,L.temperatureCurrent=3.412141633*v,L.temperaturePlanned=3.412141633*M,L.powerCurrent=v,L.powerPlanned=M,L.powerActual=y,L.powerActualDerivation=T,L.floorPlanWidth=P/1e3,L.floorPlanHeight=N/1e3,L},a=[],a.push(new t(1470,"50M",42,483,0,0,4250,3650,0,1,35e3,500,"NULL",1,41,1,0,16,0,102,0,"NULL",0,115,1,1500,700)),a.push(new t(1471,"50N",42,483,0,0,4250,2950,0,1,35e3,500,300,1,35,5,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1472,"50O",42,483,0,0,4250,2250,0,1,35e3,500,1e4,16,27,15,0,172.8,0,12700,0,0,0,0,1,1500,700)),a.push(new t(1473,"50P",42,483,0,0,4250,1550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1500,"50Q",42,483,0,0,4250,150,1,1,35e3,500,1e4,11,22,10,0,0,0,0,0,5600,0,0,1,1500,700)),a.push(new t(1501,"50R",42,483,0,0,4250,-550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1502,"50S",42,483,0,0,4250,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1503,"50T Tile",42,483,0,0,"NULL",-1950,0,1,35e3,500,1e4,1,31,11,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1504,"50U",42,483,0,0,4250,-2650,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1474,"51M",42,483,0,0,1450,3650,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1475,"51N",42,483,0,0,1450,2950,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),a.push(new t(1476,"51O",42,483,0,0,1450,2250,0,1,35e3,500,1e4,1,38,4,0,86,0,5457,0,1300,0,1300,1,1500,700)),a.push(new t(1477,"51P",42,483,0,0,1450,1550,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),a.push(new t(1478,"51Q",42,483,0,0,1450,850,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),a.push(new t(1479,"51R",42,483,0,0,1450,150,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),a.push(new t(1480,"51S",42,483,0,0,1450,-550,0,1,35e3,500,1e4,1,38,4,0,86,0,5457,0,1300,0,1300,1,1500,700)),a.push(new t(1481,"51T",42,483,0,0,1450,-1250,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),a.push(new t(1482,"51U",42,483,0,0,1450,-1950,0,1,35e3,500,1e4,1,36,6,0,136,0,9832,0,1900,0,1900,1,1500,700)),a.push(new t(1483,"51V",42,483,0,0,1450,-2650,0,1,35e3,500,1e4,1,42,0,0,136,0,9832,0,1900,0,1900,1,1500,700)),a.push(new t(1484,"51W",42,483,0,0,1450,-3350,1,1,35e3,500,1e4,1,37,3,0,136,0,9832,0,1900,0,1900,1,1500,700)),a.push(new t(1510,"51X",42,483,0,0,1450,-4050,0,1,35e3,500,1e4,1,15,16,0,422,0,32789,0,5600,0,5600,1,1500,700)),a.push(new t(1485,"52L",42,483,0,0,-1350,4350,0,1,35e3,500,1e4,1,36,2,0,68,0,9832,0,1900,0,1900,1,1500,700)),a.push(new t(1486,"52M",42,483,0,0,-1350,3650,0,1,35e3,500,1e4,1,36,6,0,68,0,9832,0,1900,0,1900,1,1500,700)),a.push(new t(1487,"52N",42,483,0,0,-1350,2950,0,1,35e3,500,1e4,1,36,2,0,68,0,9832,0,1900,0,1900,1,1500,700)),a.push(new t(1488,"52O",42,483,0,0,-1350,2250,0,1,35e3,500,1e4,1,28,14,0,154,0,20746,0,4500,0,4500,1,1500,700)),a.push(new t(1489,"52P",42,483,0,0,-1350,1550,0,1,35e3,500,1e4,1,24,14,0,204,0,29496,0,5700,0,5700,1,1500,700)),a.push(new t(1490,"52Q",42,483,0,0,-1350,"NULL",0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1491,"52R",42,483,0,0,-1350,150,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1492,"52S",42,483,0,0,-1350,-550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,5700,0,0,1,1500,700)),a.push(new t(1493,"52T",42,483,0,0,-1350,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1511,"52U",42,483,0,0,-1350,-1950,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1512,"52V",42,483,0,0,"NULL","NULL",0,1,35e3,500,1e4,1,28,10,0,161,0,24039,0,4400,0,4400,1,1500,700)),a.push(new t(1494,"52W",42,483,0,0,-1350,-3350,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1495,"52X",42,483,0,0,-1350,-4050,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1496,"53M",42,483,0,0,-4150,3650,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1497,"53N Tile",42,483,0,0,-4150,2950,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1498,"53O",42,483,0,0,-4150,2250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1499,"53P",42,483,0,0,-4150,1550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1505,"53Q",42,483,0,0,-4150,150,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1506,"53R",42,483,0,0,"NULL",-550,0,1,35e3,500,1e4,1,26,16,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1507,"53S",42,483,0,0,-4150,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1508,"53T",42,483,0,0,-4150,-1950,0,1,35e3,500,1e4,1,30,12,0,0,0,0,0,0,0,0,1,1500,700)),a.push(new t(1509,"53U",42,483,0,0,-4150,-2650,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),a=a.filter(function(e){return-1===e.name.indexOf("Tile")&&l(e.xPosition)&&l(e.yPosition)&&l(e.floorPlanWidth)&&l(e.floorPlanHeight)}),o={boundingBox:{minX:e,maxX:-e,minY:e,maxY:-e},maxWidth:-e,maxHeight:-e,resetBounds:function(){this.boundingBox.minX=this.boundingBox.minY=e,this.boundingBox.maxX=this.boundingBox.maxY=-e,this.maxWidth=this.maxHeight=-e},calculateBounds:function(){this.resetBounds(),this.boundingBox.minX=Math.roundTo(d3.min(a,function(e){return e.xPosition}),2),this.boundingBox.maxX=Math.roundTo(d3.max(a,function(e){return e.xPosition}),2),this.boundingBox.minY=Math.roundTo(d3.min(a,function(e){return e.yPosition}),2),this.boundingBox.maxY=Math.roundTo(d3.max(a,function(e){return e.yPosition}),2),this.maxWidth=Math.roundTo(d3.max(a,function(e){return e.floorPlanWidth}),2),this.maxHeight=Math.roundTo(d3.max(a,function(e){return e.floorPlanHeight}),2)}},o.calculateBounds(),s=o.boundingBox.minY-o.maxHeight-(o.boundingBox.maxX-o.boundingBox.minX),n=-s,g=o.boundingBox.maxX+o.maxWidth+(o.boundingBox.maxY-o.boundingBox.minY),B=o.boundingBox.maxX-o.boundingBox.minY+(o.boundingBox.maxY-o.boundingBox.minY),v=d3.select("#x3dElement").attr("height","400px").attr("width","700px"),M=v.append("button").attr("id","zoom-in"),document.getElementById("zoom-in").innerHTML="Zoom In",M=v.append("button").attr("id","zoom-out"),document.getElementById("zoom-out").innerHTML="Zoom Out",p=v.append("scene"),p.append("viewpoint").attr("id","Top View").attr("centerOfRotation","0 0 0").attr("position","0 0 "+B).attr("orientation","0.0 0.0 0.0 0.0").attr("fieldOfView","0.75"),p.append("viewpoint").attr("id","Front View").attr("centerOfRotation","0 0 0").attr("position","0 "+s+" 0").attr("orientation","1.0 0.0 0.0 1.570").attr("fieldOfView","0.95"),p.append("viewpoint").attr("id","Left View").attr("centerOfRotation","0 0 0").attr("position",""+-g+" 0 0.25").attr("orientation","-0.50 0.50 0.50 4.186").attr("fieldOfView","0.95"),p.append("viewpoint").attr("id","Right View").attr("centerOfRotation","0 0 0").attr("position",""+g+" 0 0.25").attr("orientation","0.50 0.50 0.50 2.093").attr("fieldOfView","0.95"),p.append("viewpoint").attr("id","Back View").attr("centerOfRotation","0 0 0").attr("position","0.0 "+n+" -.50").attr("orientation","0.0 0.75 0.65 3.14").attr("fieldOfView","0.95"),p.append("viewpoint").attr("id","Perspective").attr("centerOfRotation","0 0 0").attr("position",""+n/3+" "+-g+" "+B/3).attr("orientation","1.0 0.25 0.25 1.25").attr("fieldOfView","0.95"),p.append("pointLight").attr("on","TRUE").attr("intensity",".50").attr("color","1.0 1.0 1.0").attr("attenuation","1.0000 0.0000 0.0000").attr("location",""+g+" 0 0").attr("radius","200.0"),p.append("pointLight").attr("on","TRUE").attr("intensity",".50").attr("color","1.0 1.0 1.0").attr("attenuation","1.0000 0.0000 0.0000").attr("location",""+-g+" 0 0").attr("radius","200.0"),c=function(){console.log("justforshure")},u=function(t,n,o){return null==o&&(o=e),d3.max(t,function(e){return"number"==typeof e[n.toString()]&&e[n.toString()]<o?e[n.toString()]:void 0})},b=function(e,t,n,o){var i,a,r;for(r=[],r[0]=u(e,t),r[1]=u(e,t,r[0]),r[2]=u(e,t,r[1]),i=0;3>i;)a=e.filter(function(e){return e[t.toString()]===r[i]}),r[i]=r[i].toString()+o.toString()+" rack"+(a.length>1?"s:":":"),a.forEach(function(e){return r[i]+=" "+e.name}),r[i]+=" ("+a.length+" total)",i++;for(i=1;4>i;)document.getElementsByClassName(n.toString()+i.toString())[0].innerHTML=r[i-1],i++},x=function(e){b(e,"powerCurrent","power"," watts"),b(e,"temperatureCurrent","temperature","BTUs"),b(e,"weightCurrent","weight","lb"),b(e,"usedUnitsCurrent","used-units"," used units"),b(e,"largestUnitLocation","largest-unit-location"," units"),b(e,"largestUnitSize","largest-unit-size"," unit size")},i=function(e){var t;for(t=document.getElementsByClassName(e);t.length;)t[0].className=t[0].className.replace(e,"")},r=function(e){var t,n;n=p.selectAll("transform").data(e),t=n.enter().append("transform").append("shape").data(e).attr("id",function(e){return"rack"+e.componentID}).attr("class","rack"),n.transition().attr("translation",function(e){return e.xPosition+" "+e.yPosition+" 0.0"}),t.append("appearance").append("material"),p.selectAll("material").data(e).transition().duration(1e3).delay(500).attr("diffuseColor",function(e){return h(e)}),t.append("box").data(e).attr("size",function(e){return e.floorPlanWidth+" "+(e.floorPlanHeight-.1)+" "+e.rackUnitHeight}),n.exit(),x(e)},setInterval(function(){return r(a)},1e4),h=function(e){var t,n,o;switch(document.getElementsByClassName("selected-color")[0].value){case"Power":o=e.powerCurrent/e.powerMax,o=l(o)?o:"steelblue";break;case"Weight":o=e.weightCurrent/e.weightMax,o=l(o)?o:"steelblue";break;case"Temperature":o=e.temperatureCurrent/e.coolingMax,o=l(o)?o:"steelblue";break;default:o="steelblue"}return"steelblue"===o?"steelblue":(.5>o?(n=Math.floor(255*o),t=200):(n=255,t=Math.floor(255*(1-o))),"#"+(16>n?"0":"")+n.toString(16)+(16>t?"0":"")+t.toString(16)+"00")},w=function(){i("selected-view"),this.className+=" selected-view",document.getElementById(this.value).setAttribute("set_bind","true")},f=function(){i("selected-color"),this.className+=" selected-color",r(a)},d=function(e){var t,n,o,i,a,r,u,s,d,l;for(l=p.append("transform").append("shape").attr("id","grid"),l.append("appearance").append("material").attr("id","gridMaterial").attr("diffuseColor","0.8, 0.8, 0.8").attr("transparency","0.65"),n="",o="",t=0,a=Math.roundTo(.6*Math.ceil((e.boundingBox.minY-e.maxHeight)/.6-1),2),i=Math.roundTo(.6*Math.ceil((e.boundingBox.maxY+e.maxHeight)/.6+1),2),s=Math.roundTo(.6*Math.ceil((e.boundingBox.minX-e.maxWidth)/.6-1),2),u=Math.roundTo(.6*Math.ceil((e.boundingBox.maxX+e.maxWidth)/.6+1),2),r=s;u>=r;)o+=""+r+" "+a+" -1 "+r+" "+i+" -1 ",n+=""+t+" "+(t+1)+" -1 ",r=Math.roundTo(r+.6,2),t+=2;for(r=a;i>=r;)o+=""+s+" "+r+" -1 "+u+" "+r+" -1 ",n+=""+t+" "+(t+1)+" -1 ",r=Math.roundTo(r+.6,2),t+=2;return d=l.append("indexedLineSet").attr("coordIndex","#{coordinateConnections}"),d.append("coordinate").attr("point",""+o)},d(o),m=function(){var e,t,n;e=document.getElementsByClassName("selected-view")[0].className.replace("button","").replace("selected-view","").replace("view","").replace(/\s/,""),n=parseInt(e)<document.getElementsByClassName("camera-option")[0].children.length-1?parseInt(e)+1:0,t=document.getElementsByClassName("view"+n.toString())[0],i("selected-view"),t.className+=" selected-view",document.getElementById(t.value).setAttribute("set_bind","true"),r(a)},window.onload=function(){var e,t,n,o,i,u,s,d;for(s=document.getElementsByClassName("color-option")[0].children,n=0,i=s.length;i>n;n++)t=s[n],t.onmouseover=f;for(d=document.getElementsByClassName("camera-option")[0].children,o=0,u=d.length;u>o;o++)e=d[o],e.onmouseover=w;r(a),document.getElementById("grid-toggle").onclick=function(){document.getElementById("gridMaterial").transparency="1.0"===document.getElementById("gridMaterial").transparency?".65":"1.0"},document.getElementById("view-shuffle").onclick=function(){var e;document.getElementById("view-shuffle").checked===!0?e=setInterval(function(){return m()},1e4):window.clearInterval(e)}}}).call(this);